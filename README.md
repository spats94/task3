# Тестовое задание 3

Объект управления описывается уравнением состояния с нелинейным коэффициентом
$$
\dot{x}=A(V)\cdot x + B \cdot u\\
y=C\cdot x
$$
где 
$$
A(V)=\begin{cases}A1 & if \: V<= V1\\A2 & if \: V > V2\end{cases}
$$
Необходимо спроектировать структуру регулятора для объекта управления,
вычисляющий управляющие воздействие u для объекта управления такое, что в
установившемся процессе значение выходного сигнала y равно значению уставки yref c
нулевой ошибкой. Регулятор должен работать с периодом дискретизации 10 мсек.
Структура регулятора должна позволять путём калибровки на объекте достичь постоянства
времени переходного процесса системы регулятор – объект управления при условии
постоянства сигнала V для любого из двух значений коэффициента A.

### Модель объекта и регулятора в симулинке

Для регулирования, был выбрал PID(z) регулятор,  он достаточно просто, чтобы работать с дискретизацией 10мс, а также есть возможность преобразовать в с код. Настройки регулятора представлены ниже.

![Безымянный](C:\Users\User\Desktop\Безымянный.jpg)

### Объект управления

Объект управления создан с помощью базисных блоков simulink

![Безымянный1](C:\Users\User\Desktop\Безымянный1.png)

А также, коэффициент A задается с помощью блока Relay

![Безымянный2](C:\Users\User\Desktop\Безымянный2.png)

В целом система выглядит следующим образом.

![Безымянный3](C:\Users\User\Desktop\Безымянный3.png)

### Калибровка регулятора

Для калибровки, используется утилита PID Tune

Этапы калибровки регулятора:

1) Идентификация системы

Для идентификации системы, создаем набор данных вход-выход, для этого используется модель ident.slx/, которая проводит моделирование системы и записывает в переменную y реакцию на единичный скачек

Далее в PID Tuner идентифицируем новый plant.

2) Подбор коэффициентов: подбираем такие коэффициенты, которые будут удовлетворять нашим параметрам. Возьмем что нам необходимо для обоих коэффициентов А время переходного процесса 3 сек.

Для А1 были получены коэффициенты

kP1=4.6957
kI1=23.4784
kD1=0

Аналогично проводим для А2

kP2=7.0492
kI2=28.158
kD2=0.30826

### Результат

В результате имеем одинаковое время переходного процесса

![1569421215089](C:\Users\User\AppData\Roaming\Typora\typora-user-images\1569421215089.png)



